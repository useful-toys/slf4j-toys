---
description: 'Coding conventions and standards for Java code in the slf4j-toys project.'
applyTo: '**/*.java'
---

# Java Programming Standards

This document contains all Java-specific programming guidelines for the slf4j-toys project.

## Language & Style
- **English only**: All identifiers, strings, Javadocs, comments, documentation, and commit messages must be in English
- **Java 8+**: Code must be compatible with Java 8 or higher
- **Follow conventions**: Maintain consistency with existing code style
- **UTF-8 encoding**: All source files must be encoded in UTF-8
- **Comment style**: For comments explaining behavior or logic, prefer `/* ... */` style over `//` style
- **Lombok usage**: Use Lombok annotations to reduce boilerplate

## Immutability

**Strong preference for immutable attributes, parameters, and variables.** Declare all variables, parameters, and attributes as `final` whenever possible.

```java
public class Meter {
    // ✅ PREFER: Immutable fields
    private final String name;
    private final Logger logger;
    private final long startTime;
    
    // ✅ PREFER: Final parameters
    public void measure(final Runnable operation, final String label) {
        // ✅ PREFER: Final local variables
        final long start = System.nanoTime();
        operation.run();
        final long duration = System.nanoTime() - start;
    }
    
    // ❌ AVOID: Mutable fields (unless truly necessary)
    private int counter;  // Only if mutability is required
}
```

**Benefits**:
- Prevents accidental reassignment
- Makes code easier to reason about
- Enables better compiler optimizations
- Reduces bugs related to unexpected state changes

**When to allow mutability**:
- Performance-critical code with proven bottlenecks
- Implementing specific algorithms that require mutation
- Stateful objects that inherently require mutable state (e.g., counters, accumulators)

## Copyright Header

All Java files must include the following Apache 2.0 license header at the top, with the current year (2026) in the copyright notice:
  ```
  /*
   * Copyright 2026 Daniel Felix Ferber
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
  ```

## Javadoc 
- **All classes and members (including `private` and package-private) must have clear Javadoc**
- **Do NOT document methods that implement third-party or well-documented interfaces**
- **Do NOT document overridden methods unless there are significant behavioral changes**
- Write clear, concise descriptions that explain the method's purpose and behavior
- Use proper Javadoc formatting with complete sentences ending in periods

Example:
```java
/**
 * Measures the execution time and throughput of an operation.
 * 
 * @param operation the operation to measure
 * @return the execution duration in milliseconds
 * @throws IllegalArgumentException if operation is null
 */
public long measure(Runnable operation) {
    ...
}
```

## AI Co-Authorship Attribution
- Classes modified/generated by AI must include: `@author Co-authored-by: <AI Name> using <model>`
- Example: `@author Co-authored-by: GitHub Copilot using Claude Sonnet 4.5`
- Preserve existing `@author` tags when AI adds new ones

## Nullability Policy

**Use `@NonNull` annotation on all variables, parameters, and attributes whenever possible** to explicitly indicate that null values are not permitted.

```java
public class Meter {
    @NonNull
    private final String name;
    
    @NonNull
    private final Logger logger;
    
    public void start(@NonNull String operation) {
        // Lombok validates @NonNull parameters automatically
    }
    
    @NonNull
    public String getName() {
        return name;
    }
}
```

**Guidelines**:
- Mark all parameters, fields, and local variables with `@NonNull` unless null is a valid value
- Lombok automatically generates null-checks for `@NonNull` parameters in constructors and methods
- Return `Optional<T>` when a method result may legitimately be absent
- Avoid returning null from methods; prefer `Optional` or throw exceptions

## Lombok Annotations

- Use `@Getter`, `@Setter`, `@ToString`, `@EqualsAndHashCode` for data classes
- Use `@NonNull` for null-checking (see Nullability Policy above)
- Use `@RequiredArgsConstructor`, `@AllArgsConstructor` for constructor generation
- Avoid `@Data` and `@Builder` (not used in this project)

